# CodeLab VS Code Plugin - Quick Start Guide

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **Node.js** 18+ –∏ npm
- **VS Code** 1.109.0+
- **Backend API** –∑–∞–ø—É—â–µ–Ω –∏ –¥–æ—Å—Ç—É–ø–µ–Ω (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `http://localhost:8000`)

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

#### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è extension –∏ webview
npm run install:all
```

#### 2. –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

```bash
# –ü–æ–ª–Ω–∞—è —Å–±–æ—Ä–∫–∞ (extension + webview)
npm run compile
```

#### 3. –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

**–í–∞—Ä–∏–∞–Ω—Ç A: –ß–µ—Ä–µ–∑ VS Code (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)**
1. –û—Ç–∫—Ä—ã—Ç—å –ø—Ä–æ–µ–∫—Ç –≤ VS Code
2. –ù–∞–∂–∞—Ç—å `F5` –∏–ª–∏ –≤—ã–±—Ä–∞—Ç—å `Run > Start Debugging`
3. –û—Ç–∫—Ä–æ–µ—Ç—Å—è –Ω–æ–≤–æ–µ –æ–∫–Ω–æ VS Code —Å –∑–∞–ø—É—â–µ–Ω–Ω—ã–º –ø–ª–∞–≥–∏–Ω–æ–º

**–í–∞—Ä–∏–∞–Ω—Ç B: –ß–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É**
```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å watch mode –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏
npm run watch
```
–ó–∞—Ç–µ–º –Ω–∞–∂–∞—Ç—å `F5` –≤ VS Code –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –æ—Ç–ª–∞–¥–∫–∏.

### –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

#### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ API —Ç–æ–∫–µ–Ω–∞

1. –í –Ω–æ–≤–æ–º –æ–∫–Ω–µ VS Code –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–º–∞–Ω–¥—É:
   - `Cmd+Shift+P` (Mac) –∏–ª–∏ `Ctrl+Shift+P` (Windows/Linux)
   - –í–≤–µ—Å—Ç–∏ `CodeLab: Set API Token`
   - –í–≤–µ—Å—Ç–∏ –≤–∞—à API —Ç–æ–∫–µ–Ω

2. –ò–ª–∏ –ø–ª–∞–≥–∏–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–µ–¥–ª–æ–∂–∏—Ç —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–æ–∫–µ–Ω –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ

#### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Backend URL (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ï—Å–ª–∏ backend API –∑–∞–ø—É—â–µ–Ω –Ω–µ –Ω–∞ `http://localhost:8000`:

1. –û—Ç–∫—Ä—ã—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ VS Code: `Cmd+,` (Mac) –∏–ª–∏ `Ctrl+,` (Windows/Linux)
2. –ù–∞–π—Ç–∏ `CodeLab`
3. –ò–∑–º–µ–Ω–∏—Ç—å `CodeLab: Api: Base Url`

## üìñ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –û—Ç–∫—Ä—ã—Ç–∏–µ —á–∞—Ç–∞

**–°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ Activity Bar**
- –ö–ª–∏–∫–Ω—É—Ç—å –Ω–∞ –∏–∫–æ–Ω–∫—É CodeLab (ü§ñ) –≤ –ª–µ–≤–æ–π –ø–∞–Ω–µ–ª–∏

**–°–ø–æ—Å–æ–± 2: –ß–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥—É**
- `Cmd+Shift+P` ‚Üí `CodeLab: Open Chat`

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

#### 1. –û–±—ä—è—Å–Ω–∏—Ç—å –∫–æ–¥
1. –í—ã–¥–µ–ª–∏—Ç—å –∫–æ–¥ –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ
2. –ü—Ä–∞–≤—ã–π –∫–ª–∏–∫ ‚Üí `CodeLab: Explain Selection`
3. –ò–ª–∏ `Cmd+Shift+P` ‚Üí `CodeLab: Explain Selection`

#### 2. –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∫–æ–¥–∞
1. –í—ã–¥–µ–ª–∏—Ç—å –∫–æ–¥ –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ
2. –ü—Ä–∞–≤—ã–π –∫–ª–∏–∫ ‚Üí `CodeLab: Refactor Selection`
3. –ò–ª–∏ `Cmd+Shift+P` ‚Üí `CodeLab: Refactor Selection`

#### 3. –ò—Å–ø—Ä–∞–≤–∏—Ç—å –æ—à–∏–±–∫–∏
1. –û—Ç–∫—Ä—ã—Ç—å —Ñ–∞–π–ª —Å –æ—à–∏–±–∫–∞–º–∏
2. `Cmd+Shift+P` ‚Üí `CodeLab: Fix Errors`
3. –ü–ª–∞–≥–∏–Ω —Å–æ–±–µ—Ä—ë—Ç –≤—Å–µ –æ—à–∏–±–∫–∏ –∏ –ø—Ä–µ–¥–ª–æ–∂–∏—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

#### 4. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–∞
1. `Cmd+Shift+P` ‚Üí `CodeLab: Generate Code`
2. –í–≤–µ—Å—Ç–∏ –æ–ø–∏—Å–∞–Ω–∏–µ –Ω—É–∂–Ω–æ–≥–æ –∫–æ–¥–∞
3. –ü–æ–ª—É—á–∏—Ç—å —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥ –≤ —á–∞—Ç–µ

### –†–∞–±–æ—Ç–∞ —Å —á–∞—Ç–æ–º

#### –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π
- –í–≤–µ—Å—Ç–∏ —Ç–µ–∫—Å—Ç –≤ –ø–æ–ª–µ –≤–Ω–∏–∑—É —á–∞—Ç–∞
- –ù–∞–∂–∞—Ç—å `Enter` –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏
- `Shift+Enter` –¥–ª—è –Ω–æ–≤–æ–π —Å—Ç—Ä–æ–∫–∏

#### –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞
- –ù–∞–≤–µ—Å—Ç–∏ –Ω–∞ –±–ª–æ–∫ –∫–æ–¥–∞
- –ù–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É `Copy`

#### –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- –ï—Å–ª–∏ –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –ø—Ä–µ–¥–ª–æ–∂–∏–ª –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ
- –ù–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É `Apply Changes`
- –ò–∑–º–µ–Ω–µ–Ω–∏—è –±—É–¥—É—Ç –ø—Ä–∏–º–µ–Ω–µ–Ω—ã –∫ —Ñ–∞–π–ª–∞–º

#### –ù–æ–≤—ã–π —á–∞—Ç
- –ù–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É `New Chat` –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ
- –ò–ª–∏ `Cmd+Shift+P` ‚Üí `CodeLab: Open Chat`

## üõ†Ô∏è –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
codelab-vscode-plugin/
‚îú‚îÄ‚îÄ src/                    # Extension –∫–æ–¥
‚îÇ   ‚îú‚îÄ‚îÄ api/               # API –∫–ª–∏–µ–Ω—Ç
‚îÇ   ‚îú‚îÄ‚îÄ commands/          # VS Code –∫–æ–º–∞–Ω–¥—ã
‚îÇ   ‚îú‚îÄ‚îÄ context/           # –°–±–æ—Ä –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ diff/              # Diff engine
‚îÇ   ‚îú‚îÄ‚îÄ ui/                # WebView provider
‚îÇ   ‚îî‚îÄ‚îÄ extension.ts       # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îú‚îÄ‚îÄ webview/               # React UI
‚îÇ   ‚îî‚îÄ‚îÄ src/
‚îÇ       ‚îú‚îÄ‚îÄ components/    # React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ       ‚îú‚îÄ‚îÄ hooks/         # React —Ö—É–∫–∏
‚îÇ       ‚îî‚îÄ‚îÄ styles/        # CSS —Å—Ç–∏–ª–∏
‚îî‚îÄ‚îÄ dist/                  # –°–æ–±—Ä–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
```

### –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
npm run install:all

# –°–±–æ—Ä–∫–∞
npm run compile              # Extension + WebView
npm run compile:extension    # –¢–æ–ª—å–∫–æ extension
npm run compile:webview      # –¢–æ–ª—å–∫–æ webview

# –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞
npm run watch               # Watch mode –¥–ª—è –≤—Å–µ–≥–æ
npm run watch:esbuild       # Watch —Ç–æ–ª—å–∫–æ extension
npm run watch:webview       # Watch —Ç–æ–ª—å–∫–æ webview

# –ü—Ä–æ–≤–µ—Ä–∫–∏
npm run check-types         # TypeScript –ø—Ä–æ–≤–µ—Ä–∫–∞
npm run lint                # ESLint –ø—Ä–æ–≤–µ—Ä–∫–∞
npm run test                # –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
npm run test:watch          # –¢–µ—Å—Ç—ã –≤ watch mode

# Production —Å–±–æ—Ä–∫–∞
npm run package             # –ü–æ–ª–Ω–∞—è production —Å–±–æ—Ä–∫–∞
```

### –û—Ç–ª–∞–¥–∫–∞

#### Extension
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å breakpoint –≤ –∫–æ–¥–µ extension (`src/`)
2. –ù–∞–∂–∞—Ç—å `F5`
3. Breakpoint —Å—Ä–∞–±–æ—Ç–∞–µ—Ç –≤ Debug Console

#### WebView (React)
1. –í –Ω–æ–≤–æ–º –æ–∫–Ω–µ VS Code –æ—Ç–∫—Ä—ã—Ç—å Developer Tools:
   - `Help > Toggle Developer Tools`
2. –ü–µ—Ä–µ–π—Ç–∏ –≤ Console/Sources
3. –ù–∞–π—Ç–∏ –∫–æ–¥ webview –≤ Sources
4. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å breakpoint

### Hot Reload

**Extension**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö (–µ—Å–ª–∏ –∑–∞–ø—É—â–µ–Ω `npm run watch`)

**WebView**: –¢—Ä–µ–±—É–µ—Ç—Å—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ webview:
- `Cmd+R` (Mac) –∏–ª–∏ `Ctrl+R` (Windows/Linux) –≤ –æ–∫–Ω–µ —Å –ø–ª–∞–≥–∏–Ω–æ–º
- –ò–ª–∏ –∑–∞–∫—Ä—ã—Ç—å –∏ –æ—Ç–∫—Ä—ã—Ç—å sidebar —Å–Ω–æ–≤–∞

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∏

### –î–æ—Å—Ç—É–ø–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

–í VS Code Settings (`Cmd+,` –∏–ª–∏ `Ctrl+,`):

- **CodeLab: Api: Base Url** - URL backend API (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `http://localhost:8000`)
- **CodeLab: Api: Timeout** - Timeout –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –º—Å (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `30000`)
- **CodeLab: Api: Retry Attempts** - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `3`)
- **CodeLab: Api: Streaming Enabled** - –í–∫–ª—é—á–∏—Ç—å streaming (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `true`)
- **CodeLab: Context: Max File Size** - –ú–∞–∫—Å. —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ –¥–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `1048576` –±–∞–π—Ç)
- **CodeLab: Context: Max Files** - –ú–∞–∫—Å. –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–∞–π–ª–æ–≤ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `100`)
- **CodeLab: Context: Max Total Size** - –ú–∞–∫—Å. –æ–±—â–∏–π —Ä–∞–∑–º–µ—Ä –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `10485760` –±–∞–π—Ç)

## üêõ Troubleshooting

### –ü–ª–∞–≥–∏–Ω –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã:
   ```bash
   npm run install:all
   ```

2. –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –ø—Ä–æ–µ–∫—Ç:
   ```bash
   npm run compile
   ```

3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –≤ Output –ø–∞–Ω–µ–ª–∏:
   - `View > Output`
   - –í—ã–±—Ä–∞—Ç—å `CodeLab` –≤ dropdown

### –û—à–∏–±–∫–∞ "API token not set"

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–æ–∫–µ–Ω:
   - `Cmd+Shift+P` ‚Üí `CodeLab: Set API Token`

2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ backend API –∑–∞–ø—É—â–µ–Ω –∏ –¥–æ—Å—Ç—É–ø–µ–Ω

### WebView –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è

1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ webview —Å–æ–±—Ä–∞–Ω:
   ```bash
   cd webview && npm run build
   ```

2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ —Ñ–∞–π–ª–æ–≤ –≤ `dist/webview/`:
   - `index.html`
   - `index.js`
   - `index.css`

3. –û—Ç–∫—Ä—ã—Ç—å Developer Tools –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å Console –Ω–∞ –æ—à–∏–±–∫–∏

### –û—à–∏–±–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ API

1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ backend API –∑–∞–ø—É—â–µ–Ω:
   ```bash
   curl http://localhost:8000/health
   ```

2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫—É Base URL –≤ VS Code Settings

3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ backend API

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](doc/IMPLEMENTATION.md)
- [–°—Ç–∞—Ç—É—Å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏](doc/IMPLEMENTATION_STATUS.md)
- [–°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏](openspec/specs/)
- [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ API](doc/architecture/api-specification.md)
- [Streaming API](doc/architecture/streaming-fetch-api.md)

## ü§ù –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å [Troubleshooting](#-troubleshooting)
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –≤ Output –ø–∞–Ω–µ–ª–∏ VS Code
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Developer Tools Console –¥–ª—è WebView
4. –°–æ–∑–¥–∞—Ç—å issue —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –ø—Ä–æ–±–ª–µ–º—ã –∏ –ª–æ–≥–∞–º–∏
