# CodeLab VS Code Plugin - ะคะธะฝะฐะปัะฝัะน ััะฐััั

## โ ะะะะะะ ะะะะะะกะขะฌะฎ ะะะะะะะะะะ ะ ะะะะะขะะะข!

ะะฐัะฐ: 2026-02-15

## ๐ฏ ะงัะพ ัะตะฐะปะธะทะพะฒะฐะฝะพ

### 1. โ Backend API Integration (100%)
- **REST API Client** ([`src/api/client.ts`](../src/api/client.ts))
  - ะกะพะทะดะฐะฝะธะต ะธ ัะฟัะฐะฒะปะตะฝะธะต ัะตััะธัะผะธ
  - ะัะฟัะฐะฒะบะฐ ัะพะพะฑัะตะฝะธะน
  - ะะพะปััะตะฝะธะต ะธััะพัะธะธ
  - ะฃะฟัะฐะฒะปะตะฝะธะต ะฐะณะตะฝัะฐะผะธ
  - Zod ะฒะฐะปะธะดะฐัะธั
  - ะะฒัะพะผะฐัะธัะตัะบะธะน retry
  
- **Streaming Client** ([`src/api/streaming.ts`](../src/api/streaming.ts))
  - Real-time ะพะฑะฝะพะฒะปะตะฝะธั ัะตัะตะท Streaming Fetch API
  - ะะฑัะฐะฑะพัะบะฐ ัะพะฑััะธะน: task_started, task_progress, task_completed
  - ะะฒัะพะผะฐัะธัะตัะบะธะน reconnect
  
- **Authentication** ([`src/api/auth.ts`](../src/api/auth.ts))
  - ะฃะฟัะฐะฒะปะตะฝะธะต ัะพะบะตะฝะฐะผะธ ัะตัะตะท VS Code Secrets
  - ะะฐะปะธะดะฐัะธั ะธ ะพะฑัะฐะฑะพัะบะฐ ะพัะธะฑะพะบ

### 2. โ Context Collection (100%)
- **ContextCollector** ([`src/context/collector.ts`](../src/context/collector.ts))
  - ะกะฑะพั ะบะพะฝัะตะบััะฐ ะธะท ะฐะบัะธะฒะฝะพะณะพ ัะฐะนะปะฐ
  - Workspace ัะฐะนะปั ะธ diagnostics
  - ะััะธัะพะฒะฐะฝะธะต ะดะปั ะฟัะพะธะทะฒะพะดะธัะตะปัะฝะพััะธ
  - ะะธะผะธัั ะฝะฐ ัะฐะทะผะตั ะดะฐะฝะฝัั

### 3. โ VS Code Commands (100%)
- **Commands** ([`src/commands/index.ts`](../src/commands/index.ts))
  - `codelab.openChat` - ะัะบัััั ัะฐั
  - `codelab.explainSelection` - ะะฑัััะฝะธัั ะบะพะด
  - `codelab.refactorSelection` - ะะตัะฐะบัะพัะธะฝะณ
  - `codelab.fixErrors` - ะัะฟัะฐะฒะธัั ะพัะธะฑะบะธ
  - `codelab.generateCode` - ะะตะฝะตัะฐัะธั ะบะพะดะฐ
  - `codelab.setApiToken` - ะฃััะฐะฝะพะฒะธัั ัะพะบะตะฝ

### 4. โ Diff Engine (100%)
- **DiffEngine** ([`src/diff/engine.ts`](../src/diff/engine.ts))
  - ะะฐััะธะฝะณ unified diff ัะพัะผะฐัะฐ
  - ะัะธะผะตะฝะตะฝะธะต ะธะทะผะตะฝะตะฝะธะน ะบ ัะฐะนะปะฐะผ
  - ะกะพะทะดะฐะฝะธะต ะฝะพะฒัั ัะฐะนะปะพะฒ

### 5. โ UI Components (100%)
- **WebView Provider** ([`src/ui/ChatViewProvider.ts`](../src/ui/ChatViewProvider.ts))
  - ะะตะณะธัััะฐัะธั ะฒ VS Code Sidebar
  - ะะฐะณััะทะบะฐ React ะฟัะธะปะพะถะตะฝะธั
  - ะะฑัะฐะฑะพัะบะฐ ัะพะพะฑัะตะฝะธะน
  - ะะฝัะตะณัะฐัะธั ั API

- **React Application** ([`webview/`](../webview/))
  - React 18.3+ ั TypeScript
  - @vscode/webview-ui-toolkit ะบะพะผะฟะพะฝะตะฝัั
  - Markdown ัะตะฝะดะตัะธะฝะณ ั highlight.js
  - Virtual scrolling ะดะปั ะฟัะพะธะทะฒะพะดะธัะตะปัะฝะพััะธ
  
- **ะะพะผะฟะพะฝะตะฝัั**:
  - โ ChatHeader - ะทะฐะณะพะปะพะฒะพะบ ั ะบะฝะพะฟะบะฐะผะธ
  - โ MessageList - ัะฟะธัะพะบ ัะพะพะฑัะตะฝะธะน
  - โ UserMessage - ัะพะพะฑัะตะฝะธั ะฟะพะปัะทะพะฒะฐัะตะปั
  - โ AssistantMessage - ะพัะฒะตัั ะฐััะธััะตะฝัะฐ
  - โ ProgressMessage - ะธะฝะดะธะบะฐัะพั ะฟัะพะณัะตััะฐ
  - โ ChatInput - ะฟะพะปะต ะฒะฒะพะดะฐ
  - โ CodeBlock - ะฑะปะพะบะธ ะบะพะดะฐ ั ะฟะพะดัะฒะตัะบะพะน
  - โ ActionButtons - ะบะฝะพะฟะบะธ ะดะตะนััะฒะธะน
  - โ SessionList - ัะฟะธัะพะบ ะดะธะฐะปะพะณะพะฒัั ัะตััะธะน

### 6. โ Session Management (100%) ๐
- **ะฃะฟัะฐะฒะปะตะฝะธะต ัะตััะธัะผะธ** ([`doc/SESSION_MANAGEMENT.md`](SESSION_MANAGEMENT.md))
  - ะกะฟะธัะพะบ ะฒัะตั ะดะธะฐะปะพะณะพะฒัั ัะตััะธะน
  - ะะตัะตะบะปััะตะฝะธะต ะผะตะถะดั ัะตััะธัะผะธ
  - ะกะพะทะดะฐะฝะธะต ะฝะพะฒัั ัะตััะธะน
  - ะฃะดะฐะปะตะฝะธะต ัะตััะธะน ั ะฟะพะดัะฒะตัะถะดะตะฝะธะตะผ
  - ะะพะธัะบ ะฟะพ ัะตััะธัะผ
  - ะะตัะฐะดะฐะฝะฝัะต (ะบะพะปะธัะตััะฒะพ ัะพะพะฑัะตะฝะธะน, ะฒัะตะผั)
  - ะะฒัะพะผะฐัะธัะตัะบะพะต ะฟะตัะตะฟะพะดะบะปััะตะฝะธะต streaming

- **UI ะะพะผะฟะพะฝะตะฝัั**:
  - โ SessionList - ัะฟะธัะพะบ ั ะฟะพะธัะบะพะผ ะธ ัะธะปัััะฐัะธะตะน
  - โ ะะฝะพะฟะบะฐ ะฟะตัะตะบะปััะตะฝะธั ะฒ ChatHeader
  - โ ะะธะทัะฐะปัะฝะฐั ะธะฝะดะธะบะฐัะธั ะฐะบัะธะฒะฝะพะน ัะตััะธะธ
  - โ ะะพะดัะฒะตัะถะดะตะฝะธะต ัะดะฐะปะตะฝะธั

- **API Integration**:
  - โ `listSessions()` - ะฟะพะปััะตะฝะธะต ัะฟะธัะบะฐ
  - โ `switchSession(id)` - ะฟะตัะตะบะปััะตะฝะธะต ั reconnect
  - โ `deleteSession(id)` - ัะดะฐะปะตะฝะธะต ั ะพัะธััะบะพะน

### 7. โ Build System (100%)
- Extension ัะฑะพัะบะฐ ัะตัะตะท esbuild
- WebView ัะฑะพัะบะฐ ัะตัะตะท Vite
- Watch mode ะดะปั ัะฐะทัะฐะฑะพัะบะธ
- Production ะพะฟัะธะผะธะทะฐัะธั

## ๐ธ ะกะบัะธะฝัะพั UI

ะะฝัะตััะตะนั ััะฟะตัะฝะพ ะพัะพะฑัะฐะถะฐะตััั:
- โ ะะฐะณะพะปะพะฒะพะบ "CodeLab" ั ะบะฝะพะฟะบะฐะผะธ Sessions (โฐ), New Chat (+) ะธ Settings (โ๏ธ)
- โ ะกะฟะธัะพะบ ัะตััะธะน ั ะฟะพะธัะบะพะผ ะธ ะผะตัะฐะดะฐะฝะฝัะผะธ (ะฟัะธ ะพัะบัััะธะธ)
- โ ะัััะพะต ัะพััะพัะฝะธะต: ะธะบะพะฝะบะฐ ๐จ๏ธ + "Start a conversation with CodeLab"
- โ ะะพะปะต ะฒะฒะพะดะฐ "Type your message..." ะฒะฝะธะทั
- โ ะะฝะพะฟะบะฐ ะพัะฟัะฐะฒะบะธ (โท)

## ๐ ะะฐะบ ะธัะฟะพะปัะทะพะฒะฐัั

### ะะฐะฟััะบ ะฟะปะฐะณะธะฝะฐ

```bash
# 1. ะฃััะฐะฝะพะฒะธัั ะทะฐะฒะธัะธะผะพััะธ
npm run install:all

# 2. ะกะพะฑัะฐัั ะฟัะพะตะบั
npm run compile

# 3. ะะฐะฟัััะธัั ะฒ VS Code
# ะะฐะถะฐัั F5 ะธะปะธ Run > Start Debugging
```

### ะะตัะฒะพะฝะฐัะฐะปัะฝะฐั ะฝะฐัััะพะนะบะฐ

1. **ะฃััะฐะฝะพะฒะธัั API ัะพะบะตะฝ**:
   - `Cmd+Shift+P` โ `CodeLab: Set API Token`
   - ะะฒะตััะธ ัะพะบะตะฝ

2. **ะะฐัััะพะธัั Backend URL** (ะตัะปะธ ะฝะต localhost:8000):
   - `Cmd+,` โ ะะฐะนัะธ `CodeLab`
   - ะะทะผะตะฝะธัั `CodeLab: Api: Base Url`

### ะัะฟะพะปัะทะพะฒะฐะฝะธะต

1. **ะัะบัััั ัะฐั**:
   - ะะปะธะบะฝััั ะฝะฐ ะธะบะพะฝะบั CodeLab ะฒ Activity Bar
   - ะะปะธ `Cmd+Shift+P` โ `CodeLab: Open Chat`

2. **ะัะฟัะฐะฒะธัั ัะพะพะฑัะตะฝะธะต**:
   - ะะฒะตััะธ ัะตะบัั ะฒ ะฟะพะปะต ะฒะฝะธะทั
   - ะะฐะถะฐัั Enter ะธะปะธ ะบะฝะพะฟะบั ะพัะฟัะฐะฒะบะธ

3. **ะะฐะฑะพัะฐัั ั ัะตััะธัะผะธ**:
   - ะะปะธะบะฝััั ะฝะฐ ะธะบะพะฝะบั ัะฟะธัะบะฐ (โฐ) ะดะปั ะฟัะพัะผะพััะฐ ะฒัะตั ัะตััะธะน
   - ะัะฑัะฐัั ัะตััะธั ะดะปั ะฟะตัะตะบะปััะตะฝะธั
   - ะัะฟะพะปัะทะพะฒะฐัั ะฟะพะธัะบ ะดะปั ัะธะปัััะฐัะธะธ ัะตััะธะน
   - ะฃะดะฐะปะธัั ัะตััะธั ะบะฝะพะฟะบะพะน (ร) ั ะฟะพะดัะฒะตัะถะดะตะฝะธะตะผ

4. **ะัะฟะพะปัะทะพะฒะฐัั ะบะพะผะฐะฝะดั**:
   - ะัะดะตะปะธัั ะบะพะด โ ะัะฐะฒัะน ะบะปะธะบ โ `CodeLab: Explain Selection`
   - ะัะดะตะปะธัั ะบะพะด โ ะัะฐะฒัะน ะบะปะธะบ โ `CodeLab: Refactor Selection`
   - `Cmd+Shift+P` โ `CodeLab: Fix Errors`
   - `Cmd+Shift+P` โ `CodeLab: Generate Code`

## ๐ง ะขะตัะฝะธัะตัะบะธะต ะดะตัะฐะปะธ

### ะััะธัะตะบัััะฐ

```
Extension (Node.js)          WebView (React)
โโโโโโโโโโโโโโโโโโโ         โโโโโโโโโโโโโโโโโโโโ
โ  CodeLabAPI     โ         โ  App             โ
โ  โโ REST Client โโโโโโโโโโโค  โโ ChatHeader   โ
โ  โโ Streaming   โ         โ  โโ MessageList  โ
โ  โโ Auth        โ         โ  โโ ChatInput    โ
โโโโโโโโโโโโโโโโโโโค         โโโโโโโโโโโโโโโโโโโโ
โ  Commands       โ                 โฒ
โโโโโโโโโโโโโโโโโโโค                 โ
โ  Context        โ          postMessage()
โ  Collector      โ                 โ
โโโโโโโโโโโโโโโโโโโค                 โผ
โ  ChatView       โโโโโโโโโโโโโโโโโโโ
โ  Provider       โ
โโโโโโโโโโโโโโโโโโโ
        โ
        โผ
   Backend API
```

### ะขะตัะฝะพะปะพะณะธัะตัะบะธะน ััะตะบ

**Extension:**
- TypeScript 5.9+
- VS Code API 1.109+
- Zod ะดะปั ะฒะฐะปะธะดะฐัะธะธ
- esbuild ะดะปั ัะฑะพัะบะธ

**WebView:**
- React 18.3+
- TypeScript 5.9+
- @vscode/webview-ui-toolkit
- Vite 5.x
- marked + highlight.js
- @tanstack/react-virtual

### ะะพะผะผัะฝะธะบะฐัะธั Extension โ WebView

**ะั WebView ะบ Extension:**
```typescript
{ type: 'ready' }
{ type: 'sendMessage', content: string }
{ type: 'applyChanges', messageId: string }
{ type: 'copyCode', code: string }
{ type: 'newChat' }
```

**ะั Extension ะบ WebView:**
```typescript
{ type: 'initialState', payload: { sessionId, messages } }
{ type: 'taskStarted', payload: { task_id } }
{ type: 'taskProgress', payload: { task_id, progress_percent, message } }
{ type: 'taskCompleted', payload: { task_id, result, timestamp } }
```

## ๐ ะกะปะตะดัััะธะต ัะฐะณะธ (ะพะฟัะธะพะฝะฐะปัะฝะพ)

### ะะปั production:

1. **ะฃะดะฐะปะธัั ะพัะปะฐะดะพัะฝัะต ะปะพะณะธ**:
   - ะฃะฑัะฐัั `console.log()` ะธะท production ัะฑะพัะบะธ
   - ะะปะธ ะธัะฟะพะปัะทะพะฒะฐัั ััะปะพะฒะฝะพะต ะปะพะณะธัะพะฒะฐะฝะธะต

2. **ะะฟัะธะผะธะทะฐัะธั bundle**:
   - ะัะฟะพะปัะทะพะฒะฐัั dynamic import ะดะปั markdown
   - ะฃะผะตะฝััะธัั ัะฐะทะผะตั highlight.js (ัะพะปัะบะพ ะฝัะถะฝัะต ัะทัะบะธ)

3. **ะขะตััะธัะพะฒะฐะฝะธะต**:
   - ะะพะฑะฐะฒะธัั ะฑะพะปััะต unit ัะตััะพะฒ
   - ะะพะฑะฐะฒะธัั E2E ัะตััั
   - ะขะตััะธัะพะฒะฐัั ะฝะฐ ัะฐะทะฝัั ัะตะผะฐั VS Code

4. **ะะพะบัะผะตะฝัะฐัะธั**:
   - User guide ั ะฟัะธะผะตัะฐะผะธ
   - Video ะดะตะผะพะฝัััะฐัะธั
   - FAQ

5. **ะัะฑะปะธะบะฐัะธั**:
   - ะะพะดะณะพัะพะฒะธัั README ะดะปั Marketplace
   - ะะพะฑะฐะฒะธัั ัะบัะธะฝัะพัั ะธ GIF
   - ะกะพะทะดะฐัั CHANGELOG

## โจ ะะฐะบะปััะตะฝะธะต

ะะปะฐะณะธะฝ **ะฟะพะปะฝะพัััั ััะฝะบัะธะพะฝะฐะปะตะฝ** ะธ ะณะพัะพะฒ ะบ ะธัะฟะพะปัะทะพะฒะฐะฝะธั! ะัะต ะพัะฝะพะฒะฝัะต ะบะพะผะฟะพะฝะตะฝัั ัะตะฐะปะธะทะพะฒะฐะฝั ะธ ะฟัะพัะตััะธัะพะฒะฐะฝั. UI ะพัะพะฑัะฐะถะฐะตััั ะบะพััะตะบัะฝะพ, ะฒัะต ัะธััะตะผั ัะฐะฑะพัะฐัั.

### ะะปััะตะฒัะต ะดะพััะธะถะตะฝะธั:
- โ ะะพะปะฝะฐั ะธะฝัะตะณัะฐัะธั ั Backend API
- โ ะกะพะฒัะตะผะตะฝะฝัะน React UI ั ะฝะฐัะธะฒะฝัะผ VS Code ััะธะปะตะผ
- โ Real-time ะพะฑะฝะพะฒะปะตะฝะธั ัะตัะตะท Streaming API
- โ ะะพะฝัะตะบััะฝะพ-ะทะฐะฒะธัะธะผัะต ะบะพะผะฐะฝะดั
- โ ะะฒัะพะผะฐัะธัะตัะบะฐั ะพะฑัะฐะฑะพัะบะฐ ะพัะธะฑะพะบ
- โ Production-ready ัะฑะพัะบะฐ
- โ **ะฃะฟัะฐะฒะปะตะฝะธะต ะผะฝะพะถะตััะฒะตะฝะฝัะผะธ ัะตััะธัะผะธ** (ะบะฐะบ ะฒ Roo Code) ๐

### ะะพะฒะพะต ะฒ ะฒะตััะธะธ 0.0.1:
- ๐ **Session Management** - ัะฐะฑะพัะฐ ั ะฝะตัะบะพะปัะบะธะผะธ ะดะธะฐะปะพะณะฐะผะธ
- ๐ ะกะฟะธัะพะบ ัะตััะธะน ั ะฟะพะธัะบะพะผ ะธ ะผะตัะฐะดะฐะฝะฝัะผะธ
- ๐ ะะตัะตะบะปััะตะฝะธะต ะผะตะถะดั ัะตััะธัะผะธ ั ัะพััะฐะฝะตะฝะธะตะผ ะบะพะฝัะตะบััะฐ
- ๐ ะฃะดะฐะปะตะฝะธะต ัะตััะธะน ั ะฟะพะดัะฒะตัะถะดะตะฝะธะตะผ
- ๐ ะะฒัะพะผะฐัะธัะตัะบะพะต ะฟะตัะตะฟะพะดะบะปััะตะฝะธะต streaming ะฟัะธ ะฟะตัะตะบะปััะตะฝะธะธ

**ะกัะฐััั: ะะะขะะ ะ ะะกะะะะฌะะะะะะะฎ** ๐
